## 题目

房间里有100盏电灯，编号为1, 2, …, 100，每盏灯上有一个按钮，初始时灯全都是关的。有80个同学依次编号为1, 2,…, 80，这些同学依次进入房间，将自己编号的倍数的灯的按钮全部按一次，例如第一位同学（编号是1）把编号是1的倍数的灯的按钮按一下（此时100盏灯全亮），第二位同学（编号是2）把编号是2的倍数的灯的按钮按一下（此时只有50盏灯亮着，50盏被这个人按灭了），……，第80位同学把编号是80的倍数的灯（即编号为80的灯）的按钮按一下，请问依次走完后，还有多少盏灯亮着？

## 思路

这道题其实就是求1~80这80个数中，那些数的约数个数是偶数，那些数的约数个数是奇数。

编号约数个数是奇数的灯最后亮着。

那，如果敲代码的话：

```
// 计算num的约数个数的奇偶性
#include <cmath>

bool countOdd(int num)
{
    int n = sqrt(num);
    int count = 0;
    for (int i = 0; i <= n; ++ i)
        if (num % i == 0)
            ++ count;

    return (count % 2 == 1)
}
```

## 变形

关键在滴滴的模拟中，这是以选择题的形式存在的。而且有2015盏灯，2015个人。。。

那想解决这道题你必须知道下面这个公式：

```
given n = sqrt(num)
如果 n*n == num
那么 true == countOdd(num)
```

也就是说，这个数是一个**完全平方数**，那么它的约数的个数是奇数！

那就统计2015以内的完全平方数的个数就可以了。

## References

[算法：多少灯亮着，以及约数问题](http://www.letiantian.me/2015-01-20-number-of-bright-light-and-question-of-divisor/)
